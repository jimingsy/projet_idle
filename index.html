<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My test page</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
    <link href="styles/style.css" rel="stylesheet" type="text/css">

	
  </head>

<body id="app">

	
<h1>Vous avez : <span class="total_dolor">0</span>$</h1>
	
	
<table>
	<tr>	
  		<td> <span >bois  : <span class="bois">0</span></span> </td>
		<td> <span id="rbois">(ratio:1/s)</span> </td>	
		<td>	<button onclick="upbois()">Améliorer Ratio Bois</button> </td>
	</tr>

	<tr>
		<td> <span >pierre  : <span class="pierre">0</span></span> </td>
		<td> <span id="rpierre">(ratio:0.5/s)</span> </td>
		<td> <button onclick="uppierre()">Améliorer Ratio pierre</button> </td>
	</tr>

	<tr>
		<td> <span >bronze  : <span class="bronze">0</span> </span> </td>
		<td> <span id="rbronze">(ratio:0.33/s)</span> </td>
		<td> <button onclick="upbronze()">Améliorer Ratio bronze</button> </td>
	</tr>

	<tr>
		<td> <span >fer  : <span class="fer">0</span></span> </td>
		<td> <span id="rfer">(ratio:0.25/s)</span> </td>
		<td> <button onclick="upfer()">Améliorer Ratio pierre</button> </td>
	</tr>

</table>

<script>
var bois = 0;
var pierre = 0;
var bronze = 0;
var fer = 0;
	
var total_dolor = bois + pierre + bronze + fer ;

var rbois = 1;
var rpierre = 2;
var rbronze = 4;
var rfer = 8;

document.getElementById("rbois").innerHTML = "(ratio:"+ rbois.toFixed(2) +"/s)"  ;
document.getElementById("rpierre").innerHTML = "(ratio:"+ rpierre.toFixed(2) +"/s)"  ;
document.getElementById("rbronze").innerHTML = "(ratio:"+ rbronze.toFixed(2) +"/s)"  ;
document.getElementById("rfer").innerHTML = "(ratio:"+ rfer.toFixed(2) +"/s)"  ;
	
	
setInterval(function() { 
					   
bois=bois + rbois;
pierre=pierre + rpierre;	
bronze=bronze + rbronze;
fer=fer + rfer;
	
	
total_dolor = bois + pierre + bronze + fer ;
	// document.getElementById("bois").innerHTML = bois.toFixed(2) ; 	
	updateclasses( "bois" , bois ) ;
	updateclasses( "pierre" , pierre ) ;
	updateclasses( "bronze" , bronze ) ;
	updateclasses( "fer" , fer ) ;
	updateclasses( "total_dolor" , total_dolor ) ;
}, 1000);

	
function updateclasses(classname , variable )
{
	
	
var arr = document.getElementsByClassName( classname );
for (var i=0;i<arr.length;i++) {
    document.getElementsByClassName( classname )[i].innerHTML = "" + variable.toFixed(2)  ;
	console.log(document.getElementsByClassName( classname )[i])
}
	
}
	

function upbois() {
	rbois = rbois + rbois/10 
   document.getElementById("rbois").innerHTML = "(ratio:"+ rbois.toFixed(2) +"/s)"  ;
}
function uppierre() {
	rpierre = rpierre + rpierre/10 
   document.getElementById("rpierre").innerHTML = "(ratio:"+ rpierre.toFixed(2) +"/s)"  ;
}
function upbronze() {
	rbronze = rbronze + rbronze/10 
  document.getElementById("rbronze").innerHTML = "(ratio:"+ rbronze.toFixed(2) +"/s)"  ;
}
function upfer() {
	rfer = rfer + rfer/10 
   document.getElementById("rfer").innerHTML = "(ratio:"+ rfer.toFixed(2) +"/s)"  ;
}


</script>

 </body>
</html>
